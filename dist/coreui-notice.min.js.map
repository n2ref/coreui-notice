{"version":3,"sources":["coreui.notice.js","coreui.notice.instance.js"],"names":["CoreUI","notice","_instances","_settings","limit","top","bottom","position","container","infoColor","infoBgColor","warningColor","warningBgColor","dangerColor","dangerBgColor","successColor","successBgColor","settings","$","extend","this","info","message","options","messageColor","hasOwnProperty","bgColor","_create","warning","danger","success","get","id","let","stylesContainer","indexOf","push","append","join","noticesId","Object","keys","length","noticeId","find","hide","instance","infoId","init","getId","prepend","render","initEvents","_hashCode","_crc32","Date","getTime","Math","random","toString","str","o","c","a","f","n","t","charCodeAt","_options","timeout","icon","actionBtnText","cancelBtn","onClose","onClosed","onAction","stylesMessage","tplIcon","tplBtnAction","tplBtnCancel","that","click","window","setTimeout","setMessage","text","removeClass","addClass","parent","remove","children"],"mappings":"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","file":"coreui-notice.min.js","sourcesContent":["\nvar CoreUI = typeof CoreUI !== 'undefined' ? CoreUI : {};\n\nCoreUI.notice = {\n\n    _instances: {},\n    _settings: {\n        limit: 3,\n        top: 50,\n        bottom: 50,\n        position: 'top-right', // {top,bottom}-{left-center-right}\n        container: 'body',\n        infoColor: '',\n        infoBgColor: '',\n        warningColor: '#000000',\n        warningBgColor: '#ffc107',\n        dangerColor: '',\n        dangerBgColor: '#dc3545',\n        successColor: '',\n        successBgColor: '#198754',\n    },\n\n\n\n    /**\n     * @param settings\n     */\n    settings: function(settings) {\n\n        CoreUI.notice._settings = $.extend({}, this._settings, settings);\n    },\n\n\n    /**\n     * @param message\n     * @param options\n     * @returns {CoreUI.notice.instance}\n     */\n    info: function (message, options) {\n\n        options = typeof options === 'object' ? options : {};\n        options.message      = message;\n        options.messageColor = options.hasOwnProperty('messageColor') ? options.messageColor : this._settings.infoColor;\n        options.bgColor      = options.hasOwnProperty('bgColor') ? options.bgColor : this._settings.infoBgColor;\n\n        return this._create(options);\n    },\n\n\n    /**\n     * @param message\n     * @param options\n     * @returns {CoreUI.notice.instance}\n     */\n    warning: function (message, options) {\n\n        options = typeof options === 'object' ? options : {};\n        options.message      = message;\n        options.messageColor = options.hasOwnProperty('messageColor') ? options.messageColor : this._settings.warningColor;\n        options.bgColor      = options.hasOwnProperty('bgColor') ? options.bgColor : this._settings.warningBgColor;\n\n        return this._create(options);\n    },\n\n\n    /**\n     * @param message\n     * @param options\n     * @returns {CoreUI.notice.instance}\n     */\n    danger: function (message, options) {\n\n        options = typeof options === 'object' ? options : {};\n        options.message      = message;\n        options.messageColor = options.hasOwnProperty('messageColor') ? options.messageColor : this._settings.dangerColor;\n        options.bgColor      = options.hasOwnProperty('bgColor') ? options.bgColor : this._settings.dangerBgColor;\n\n        return this._create(options)\n    },\n\n\n    /**s\n     * @param message\n     * @param options\n     * @returns {CoreUI.notice.instance}\n     */\n    success: function (message, options) {\n\n        options = typeof options === 'object' ? options : {};\n        options.message      = message;\n        options.messageColor = options.hasOwnProperty('messageColor') ? options.messageColor : this._settings.successColor;\n        options.bgColor      = options.hasOwnProperty('bgColor') ? options.bgColor : this._settings.successBgColor;\n\n        return this._create(options);\n    },\n\n\n    /**\n     * @param {string} id\n     * @returns {CoreUI.info.instance|null}\n     */\n    get: function (id) {\n\n        if ( ! this._instances.hasOwnProperty(id)) {\n            return null;\n        }\n\n        if ($('.coreui-notice-' + this._instances[id])[0]) {\n            delete this._instances[id];\n            return null;\n        }\n\n        return this._instances[id];\n    },\n\n\n    /**\n     * @param options\n     * @returns {CoreUI.notice.instance}\n     * @private\n     */\n    _create: function (options) {\n\n        let position  = options.hasOwnProperty('position') ? options.position : this._settings.position;\n        let container = $(\".coreui-notice-container.position-\" + position);\n\n        if ( ! container[0]) {\n            let stylesContainer = [];\n\n            if (['bottom-left', 'bottom-center', 'bottom-right'].indexOf(position) >= 0) {\n                if (this._settings.bottom) {\n                    stylesContainer.push('bottom: ' + this._settings.bottom + 'px');\n                }\n            } else {\n                if (this._settings.top) {\n                    stylesContainer.push('top: ' + this._settings.top + 'px');\n                }\n            }\n\n\n            $(this._settings.container).append(\n                '<div class=\"coreui-notice-container position-' + position + '\" style=\"' + stylesContainer.join(';') + '\"></div>'\n            );\n            container = $(\".coreui-notice-container.position-\" + position);\n        }\n\n\n        if (this._instances.hasOwnProperty(position)) {\n            let noticesId = Object.keys(this._instances[position]);\n            if (noticesId.length >= this._settings.limit) {\n\n                let noticeId = noticesId[0];\n                let notice   = this._instances[position][noticeId];\n\n                if ( ! container.find('.coreui-notice-' + noticeId)[0]) {\n                    delete this._instances[position][noticeId];\n                }\n\n                notice.hide();\n            }\n        }\n\n\n        let instance = $.extend({}, this.instance);\n        instance.init(options instanceof Object ? options : {});\n\n\n        if ( ! this._instances.hasOwnProperty(position)) {\n            this._instances[position] = {};\n        }\n\n        let infoId = instance.getId();\n        this._instances[position][infoId] = instance;\n\n\n        if (['bottom-left', 'bottom-center', 'bottom-right'].indexOf(position) >= 0) {\n            container.prepend(instance.render());\n        } else {\n            container.append(instance.render());\n        }\n\n        instance.initEvents();\n\n        return instance;\n    },\n\n\n    /**\n     * @returns {string}\n     * @private\n     */\n    _hashCode: function() {\n        return this._crc32((new Date().getTime() + Math.random()).toString()).toString(16);\n    },\n\n\n    /**\n     * @param str\n     * @returns {number}\n     * @private\n     */\n    _crc32: function (str) {\n\n        for (var a, o = [], c = 0; c < 256; c++) {\n            a = c;\n            for (var f = 0; f < 8; f++) {\n                a = 1 & a ? 3988292384 ^ a >>> 1 : a >>> 1\n            }\n            o[c] = a\n        }\n\n        for (var n = -1, t = 0; t < str.length; t++) {\n            n = n >>> 8 ^ o[255 & (n ^ str.charCodeAt(t))]\n        }\n\n        return (-1 ^ n) >>> 0;\n    }\n}","\nCoreUI.notice.instance = {\n\n    _options: {\n        id: '',\n        timeout: 6000,\n        message: '',\n        messageColor: '',\n        bgColor: '#333',\n        icon: '',\n        actionBtnText: '',\n        cancelBtn: true,\n        onClose: null,\n        onClosed: null,\n        onAction: null,\n    },\n\n\n    /**\n     * @param options\n     */\n    init: function (options) {\n\n        this._options = $.extend({}, this._options, options);\n\n        if ( ! this._options.id) {\n            this._options.id = CoreUI.notice._hashCode();\n        }\n    },\n\n\n    /**\n     * @returns {string}\n     */\n    render: function() {\n\n        let stylesContainer = this._options.bgColor\n            ? 'style=\"background-color: ' + this._options.bgColor + '\"'\n            : '';\n\n        let stylesMessage = this._options.messageColor\n            ? 'style=\"color: ' + this._options.messageColor + '\"'\n            : '';\n\n        let tplIcon = this._options.icon\n            ? '<div class=\"coreui-notice-icon\"><i class=\"' + this._options.icon + '\" ' + stylesMessage + '></i></div>'\n            : '';\n\n        let tplBtnAction = this._options.actionBtnText\n            ? '<button type=\"button\" class=\"coreui-notice-action\" ' + stylesMessage + '>' + this._options.actionBtnText + '</button>'\n            : '';\n\n        let tplBtnCancel = this._options.cancelBtn\n            ? '<div class=\"coreui-notice-cancel\"><div class=\"coreui-notice-cancel-icon \"></div></div>'\n            : '';\n\n        let tpl =\n            '<div class=\"coreui-notice animated fadeIn\" id=\"coreui-notice-' + this._options.id + '\">' +\n                '<div class=\"coreui-notice-wrapper\" ' + stylesContainer + '>' +\n                    tplIcon +\n                    '<span class=\"coreui-notice-message\" ' + stylesMessage + '>' + this._options.message + '</span>' +\n                    tplBtnAction +\n                    tplBtnCancel +\n                '</div>' +\n            '</div>';\n\n\n        return tpl;\n    },\n\n\n    /**\n     *\n     */\n    initEvents: function () {\n\n        let that   = this;\n        let notice = $('#coreui-notice-' + this._options.id);\n\n        $('.coreui-notice-cancel', notice).click(function () {\n            that.hide();\n        });\n\n        if (typeof this._options.onAction === 'function') {\n            if (notice[0]) {\n                $('.coreui-notice-action', notice).click(function () {\n                    that._options.onAction(that);\n                });\n            }\n        }\n\n\n        if (this._options.timeout > 0) {\n            window.setTimeout(function () {\n                that.hide();\n            }, this._options.timeout);\n        }\n    },\n\n\n    /**\n     *\n     */\n    getId: function () {\n        return this._options.id;\n    },\n\n\n    /**\n     * @param message\n     * @returns {string}\n     */\n    setMessage: function (message) {\n\n        let notice = $('#coreui-notice-' + this._options.id);\n\n        if (notice[0]) {\n            $('.coreui-notice-message', notice).text(message);\n        }\n    },\n\n\n    /**\n     *\n     */\n    hide: function () {\n\n        let notice = $('#coreui-notice-' + this._options.id);\n\n        if (notice[0]) {\n            notice.removeClass(\"fadeIn\");\n            notice.addClass(\"fadeOut\");\n\n            if (typeof this._options.onClose === 'function') {\n                this._options.onClose();\n            }\n\n            let that = this;\n\n            window.setTimeout(function() {\n                let container = notice.parent();\n\n                notice.remove();\n\n                if (typeof that._options.onClosed === 'function') {\n                    that._options.onClosed();\n                }\n\n                if (container.children().length === 0) {\n                    container.remove();\n                }\n            }, 200);\n        }\n    }\n}"]}